<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  

  
  
  

  

  <script type="text/javascript" src="//d3js.org/d3.v3.js"></script>

  

  

  

  
    <link rel="stylesheet" type="text/css" href="/css/result-light.css">
  

  

  <style type="text/css">
    svg{
  width: 500px;
  height: 500px;
}
div{
background-color: white;  
}

  </style>

  <title>Polllution by agosiewska</title>

  
    




<script type='text/javascript'>//<![CDATA[
window.onload=function(){
function myFunction(){
var year1990 = [
{"pollution":46, "deaths":110, "name": "poland"},
{"pollution":49, "deaths":137, "name": "china"},
{"pollution":14, "deaths":26, "name": "france"}]
var year1995 = [
{"pollution":33, "deaths":90, "name": "poland"},
{"pollution":50, "deaths":147, "name": "china"},
{"pollution":13, "deaths":23, "name": "france"}]
var year2000 = [
{"pollution":26, "deaths":70, "name": "poland"},
{"pollution":52, "deaths":128, "name": "china"},
{"pollution":13, "deaths":21, "name": "france"}]
var year2005 = [
{"pollution":25, "deaths":58, "name": "poland"},
{"pollution":57, "deaths":121, "name": "china"},
{"pollution":12, "deaths":17, "name": "france"}]
var year2010 = [
{"pollution":27, "deaths":54, "name": "poland"},
{"pollution":58, "deaths":99, "name": "china"},
{"pollution":12, "deaths":15, "name": "france"}]
var year2015 = [
{"pollution":24, "deaths":45, "name": "poland"},
{"pollution":58, "deaths":85, "name": "china"},
{"pollution":12, "deaths":15, "name": "france"}]


var images = [{"id": 'url(#poland)'},{"id": 'url(#china)'},{"id": 'url(#france)'}]
var changeScalePollution = d3.scale.linear()
	.domain([10, 60])
  .range([0, 500])
var changeScaleDeaths = d3.scale.linear()
	.domain([0, 150])
  .range([500, 0])


var svg = d3.select("g.linie")
var circles = svg.selectAll("circle")
	.data(year1990)
var myText = svg.append('text')
    .attr('x', 200)
    .attr('y', 50)
		.text("Year 1990")
    
circles.enter().append("circle")
  .attr("cx", function(d,i) {return changeScalePollution(d.pollution)})
  .attr("cy", function(d,i) {return changeScaleDeaths(d.deaths)})
  .attr("r", 20)
  .attr('filter',function(d,i){return images[i].id})

myText.transition()
	.delay(3000)
	.text("Year 1995")
circles.data(year1995)
circles.transition()
	.duration(3000)
  .attr("cx", function(d,i) {return changeScalePollution(d.pollution)})
  .attr("cy", function(d,i) {return changeScaleDeaths(d.deaths)})
  .attr("r", 20)

myText.transition()
	.delay(6000)
	.text("Year 2000")
circles.data(year2000)
circles.transition()
	.duration(3000).delay(3000)
  .attr("cx", function(d,i) {return changeScalePollution(d.pollution)})
  .attr("cy", function(d,i) {return changeScaleDeaths(d.deaths)})
  .attr("r", 20)
  
myText.transition()
	.delay(9000)
	.text("Year 2005")

  circles.data(year2005)
circles.transition()
	.duration(3000).delay(6000)
  .attr("cx", function(d,i) {return changeScalePollution(d.pollution)})
  .attr("cy", function(d,i) {return changeScaleDeaths(d.deaths)})
  .attr("r", 20)

myText.transition()
	.delay(12000)
	.text("Year 2010")

  circles.data(year2010)
circles.transition()
	.duration(3000).delay(9000)
  .attr("cx", function(d,i) {return changeScalePollution(d.pollution)})
  .attr("cy", function(d,i) {return changeScaleDeaths(d.deaths)})
  .attr("r", 20)
 
 	myText.transition()
		.delay(15000)
		.text("Year 2015")

  circles.data(year2015)
	circles.transition()
		.duration(3000).delay(12000)
	  .attr("cx", function(d,i) {return changeScalePollution(d.pollution)})
  	.attr("cy", function(d,i) {return changeScaleDeaths(d.deaths)})
  	.attr("r", 20)
 }   
}//]]> 

</script>

  
</head>

<body>
  <div class="output">
 <button onclick="myFunction()" id="MyButton">Run</button> 

  <svg>
    <filter id = "poland" x = "0%" y = "0%" width = "100%" height = "100%">
      <feImage xlink:href = "http://img.freeflagicons.com/thumb/round_icon/poland/poland_640.png"/>
    </filter>
        <filter id = "china" x = "0%" y = "0%" width = "100%" height = "100%">
      <feImage xlink:href = "http://img.freeflagicons.com/thumb/round_icon/china/china_640.png"/>
    </filter>
            <filter id = "france" x = "0%" y = "0%" width = "100%" height = "100%">
      <feImage xlink:href = "http://img.freeflagicons.com/thumb/round_icon/france/france_640.png"/>
    </filter>
    <g class="linie">
    </g>
        <g class="osie">
       <rect x =0 y=0 height=500 width=2></rect>
       <rect x =0 y=498 height=2 width=500></rect>
    </g>
  </svg>
</div>
  
  <script>
  // tell the embed parent frame the height of the content
  if (window.parent && window.parent.parent){
    window.parent.parent.postMessage(["resultsFrame", {
      height: document.body.getBoundingClientRect().height,
      slug: "q1hu2dgy"
    }], "*")
  }
</script>

</body>

</html>

